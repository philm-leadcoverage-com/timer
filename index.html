<script>
const q=new URLSearchParams(location.search);
const p=(q.get("to_date")||q.get("from_date")||"").split("-").map(Number);
const d=new Date(p[0],p[1]-1,p[2],p[3],p[4],p[5]).getTime();
const down=q.has("to_date");

setInterval(()=>{
  let s=down
    ? Math.max(0,Math.floor((d-Date.now())/1000))
    : Math.max(0,Math.floor((Date.now()-d)/1000));

  const Y=Math.floor(s/31536000); s%=31536000;
  const M=Math.floor(s/2592000);  s%=2592000;
  const D=Math.floor(s/86400);    s%=86400;
  const H=Math.floor(s/3600);     s%=3600;
  const m=Math.floor(s/60);
  const S=s%60;

  let parts=[];
  if(Y) parts.push(String(Y).padStart(4,'0'));
  if(M||parts.length) parts.push(String(M).padStart(2,'0'));
  if(D||parts.length) parts.push(String(D).padStart(2,'0'));

  t.textContent=
    (parts.length?parts.join(":")+" ":"")+
    `${String(H).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(S).padStart(2,'0')}`;
},1000);
</script>
